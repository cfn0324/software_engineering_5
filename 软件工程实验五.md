@startuml
actor 用户
actor 系统管理员
actor 第三方支付系统
actor 微信公众号
actor 分诊台护士
actor 挂号处工作人员
actor 短信服务系统

用户 --> (注册)
用户 --> (登录)
用户 --> (查询医院信息)
用户 --> (预约挂号)
用户 --> (支付挂号费)
用户 --> (取消预约)
用户 --> (打印预约单)
用户 --> (打印挂号单)
用户 --> (代患者挂号)
用户 --> (查看信用等级)

系统管理员 --> (审核注册信息)
系统管理员 --> (维护医生出诊信息)
系统管理员 --> (设置出诊生成规则)
系统管理员 --> (管理用户信用等级)

(支付挂号费) --> 第三方支付系统
(登录) --> 微信公众号
(发送短信通知) --> 短信服务系统

(打印预约单) --> 分诊台护士
(打印挂号单) --> 挂号处工作人员
(取消预约) --> 挂号处工作人员
(预约成功) --> 短信服务系统
(支付成功) --> 短信服务系统
(退费成功) --> 短信服务系统
(预约前2小时提醒) --> 短信服务系统

(注册) .> (发送短信通知) : <<include>>
(登录) .> (发送短信通知) : <<include>>
(预约挂号) .> (支付挂号费) : <<include>>
(预约挂号) .> (发送短信通知) : <<include>>
(支付挂号费) .> (发送短信通知) : <<include>>
(取消预约) .> (发送短信通知) : <<include>>
(代患者挂号) .> (预约挂号) : <<extend>>
@enduml